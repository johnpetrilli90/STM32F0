////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/************************************************** BEGIN Communication.c *********************************************************/
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// File:    		Communication.c
// Description: This file sets up the communication led  
// Author:			John Petrilli & Jack Haller
// Date:				22.Feb.2016
// IP:				
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/**********************************************************************************************************************************/
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#include <stm32f0xx.h>
#include "Communication.h"									//Header file for Communication LED								

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/*********************************************** INSERT FUNCTIONS HERE ************************************************************/
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void InitCommunication(void){
	RCC->AHBENR  |= RCC_AHBENR_GPIOAEN;				//Enable Port A Clk for comm led

	GPIOA->MODER |= GPIO_MODER_MODER12_0;			//Set to general purpose output
	GPIOA->MODER &= ~GPIO_MODER_MODER12_1;		//Set to general purpose output
	GPIOA->OTYPER |= GPIO_OTYPER_OT_12;				//Set open drain output
	GPIOA->OSPEEDR |= GPIO_OSPEEDR_OSPEEDR12;	//High speed output
	GPIOA->PUPDR &= ~GPIO_PUPDR_PUPDR12_0;		//No pull up
	GPIOA->PUPDR |= GPIO_PUPDR_PUPDR12_1;			//yes pull down
}

void Communication_On(void){
	GPIOA->BSRR |= GPIO_BSRR_BR_12;						//Set GPIOB Pin 15 low (Comm)
}

void Communication_Off(void){
	GPIOA->BSRR |= GPIO_BSRR_BS_12;						//Set GPIOB Pin 15 high (Comm)
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/***************************************************** END FUNCTIONS **************************************************************/
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/***************************************************** END Communication.c ********************************************************/
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
